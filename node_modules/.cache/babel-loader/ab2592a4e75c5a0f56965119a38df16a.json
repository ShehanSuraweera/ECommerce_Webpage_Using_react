{"ast":null,"code":"import _objectSpread from\"D:/0020-UOKcs/Year 1/Semester 2/CSCI 12063 - Web Programming/Single page webApp Using React/ECommerce_Webpage_Using_react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/0020-UOKcs/Year 1/Semester 2/CSCI 12063 - Web Programming/Single page webApp Using React/ECommerce_Webpage_Using_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import\"./SingleProduct.scss\";import{useSelector,useDispatch}from'react-redux';import{setIsModalVisible}from'../../store/modalSlice';import{addToCart}from'../../store/cartSlice';import{useNavigate}from'react-router-dom';import{formatPrice}from'../../utils/helpers';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SingleProduct=function SingleProduct(){var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var _useSelector=useSelector(function(state){return state.modal;}),product=_useSelector.data;var increaseQty=function increaseQty(){setQty(function(prevQty){var newQty=prevQty+1;return newQty;});};var decreaseQty=function decreaseQty(){setQty(function(prevQty){var newQty=prevQty-1;if(newQty<1){newQty=1;}return newQty;});};var addToCartHandler=function addToCartHandler(product){var totalPrice=qty*product.price;var tempProduct=_objectSpread(_objectSpread({},product),{},{quantity:qty,totalPrice:totalPrice});dispatch(addToCart(tempProduct));dispatch(setIsModalVisible(false));navigate('/cart');};var modalOverlayHandler=function modalOverlayHandler(e){if(e.target.classList.contains('overlay-bg')){dispatch(setIsModalVisible(false));}};return/*#__PURE__*/_jsx(\"div\",{className:\"overlay-bg\",onClick:modalOverlayHandler,children:/*#__PURE__*/_jsxs(\"div\",{className:\"product-details-modal bg-white\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"modal-close-btn flex flex-center fs-14\",onClick:function onClick(){return dispatch(setIsModalVisible(false));},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-content grid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"details-right\",children:/*#__PURE__*/_jsx(\"div\",{className:\"details-img\",children:/*#__PURE__*/_jsx(\"img\",{src:product.images[0],alt:product.title})})}),/*#__PURE__*/_jsx(\"div\",{className:\"details-left\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"details-info\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"title text-regal-blue fs-22 fw-5\",children:product.title}),/*#__PURE__*/_jsx(\"p\",{className:\"description text-pine-green\",children:product.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"price fw-7 fs-24\",children:[\"Price: \",formatPrice(product.price)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"qty flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-light-blue qty-text\",children:\"Qty: \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"qty-change flex\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"qty-dec fs-14\",onClick:function onClick(){return decreaseQty();},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-minus text-light-blue\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"qty-value flex flex-center\",children:qty}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"qty-inc fs-14 text-light-blue\",onClick:function onClick(){return increaseQty();},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})})]})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn-primary add-to-cart-btn\",onClick:function onClick(){return addToCartHandler(product);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cart-shopping\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"btn-text\",children:\"Add To Cart\"})]})]})})]})]})});};export default SingleProduct;","map":{"version":3,"names":["React","useState","useSelector","useDispatch","setIsModalVisible","addToCart","useNavigate","formatPrice","SingleProduct","dispatch","navigate","qty","setQty","state","modal","product","data","increaseQty","prevQty","newQty","decreaseQty","addToCartHandler","totalPrice","price","tempProduct","quantity","modalOverlayHandler","e","target","classList","contains","images","title","description"],"sources":["D:/0020-UOKcs/Year 1/Semester 2/CSCI 12063 - Web Programming/Single page webApp Using React/ECommerce_Webpage_Using_react/src/components/SingleProduct/SingleProduct.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport \"./SingleProduct.scss\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setIsModalVisible } from '../../store/modalSlice';\r\nimport { addToCart } from '../../store/cartSlice';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { formatPrice } from '../../utils/helpers';\r\n\r\nconst SingleProduct = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const [qty, setQty] = useState(1);\r\n\r\n  const { data: product } = useSelector(state => state.modal);\r\n\r\n  const increaseQty = () => {\r\n    setQty((prevQty) => {\r\n      let newQty = prevQty + 1;\r\n      return newQty;\r\n    })\r\n  }\r\n\r\n  const decreaseQty = () => {\r\n    setQty((prevQty) => {\r\n      let newQty = prevQty - 1;\r\n      if(newQty < 1){\r\n        newQty = 1;\r\n      }\r\n      return newQty;\r\n    })\r\n  }\r\n\r\n  const addToCartHandler = (product) => {\r\n    let totalPrice = qty * product.price;\r\n    const tempProduct = {\r\n      ...product,\r\n      quantity: qty,\r\n      totalPrice\r\n    }\r\n    dispatch(addToCart(tempProduct));\r\n    dispatch(setIsModalVisible(false));\r\n    navigate('/cart');\r\n  };\r\n\r\n  const modalOverlayHandler = (e) => {\r\n    if(e.target.classList.contains('overlay-bg')){\r\n      dispatch(setIsModalVisible(false));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='overlay-bg' onClick = {modalOverlayHandler}>\r\n      <div className = \"product-details-modal bg-white\">\r\n        <button type = \"button\" className='modal-close-btn flex flex-center fs-14' onClick={() => dispatch(setIsModalVisible(false))}>\r\n          <i className = \"fas fa-times\"></i>\r\n        </button>\r\n        <div className = \"details-content grid\">\r\n          {/* details left */}\r\n          <div className = \"details-right\">\r\n            <div className = \"details-img\">\r\n              <img src = {product.images[0]} alt = {product.title} />\r\n            </div>\r\n          </div>\r\n          {/* detials right */}\r\n          <div className='details-left'>\r\n            <div className = \"details-info\">\r\n              <h3 className = \"title text-regal-blue fs-22 fw-5\">{product.title}</h3>\r\n              <p className='description text-pine-green'>{product.description}</p>\r\n              <div className='price fw-7 fs-24'>Price: {formatPrice(product.price)}</div>\r\n              <div className = \"qty flex\">\r\n                <span className = \"text-light-blue qty-text\">Qty: </span>\r\n                <div className = \"qty-change flex\">\r\n                  <button type = \"button\" className='qty-dec fs-14' onClick={() => decreaseQty()}>\r\n                    <i className = \"fas fa-minus text-light-blue\"></i>\r\n                  </button>\r\n                  <span className = \"qty-value flex flex-center\">{qty}</span>\r\n                  <button type = \"button\" className='qty-inc fs-14 text-light-blue' onClick={() => increaseQty()}>\r\n                    <i className = \"fas fa-plus\"></i>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <button type = \"button\" className='btn-primary add-to-cart-btn' onClick={() => addToCartHandler(product)}>\r\n                  <span className = \"btn-icon\">\r\n                    <i className='fas fa-cart-shopping'></i>\r\n                  </span>\r\n                  <span className = 'btn-text'>Add To Cart</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SingleProduct"],"mappings":"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"},"metadata":{},"sourceType":"module"}