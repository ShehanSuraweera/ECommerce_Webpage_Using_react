{"ast":null,"code":"var _jsxFileName = \"D:\\\\0020-UOKcs\\\\Year 1\\\\Semester 2\\\\CSCI 12063 - Web Programming\\\\pinsara\\\\Ecommerce-react-Webapp\\\\src\\\\pages\\\\HomePage\\\\HomePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Slider from '../../components/Slider/Slider';\nimport Category from '../../components/Category/Category';\nimport ProductList from '../../components/ProductList/ProductList';\nimport SingleCategory from '../../components/SingleCategory/SingleCategory';\nimport Pagination from '../../components/Pagination/Pagination'; // Make sure to import the Pagination component\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { fetchProducts } from '../../store/productSlice';\nimport { fetchCategories, fetchProductsByCategory } from '../../store/categorySlice';\nimport \"./HomePage.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HomePage = () => {\n  _s();\n\n  var _productsByCategory$;\n\n  const dispatch = useDispatch();\n  const {\n    data: categories,\n    status: categoryStatus\n  } = useSelector(state => state.category);\n  const {\n    data: products,\n    status: productStatus\n  } = useSelector(state => state.product);\n  const {\n    catProductAll: productsByCategory,\n    catProductAllStatus\n  } = useSelector(state => state.category);\n  const [currentPage, setCurrentPage] = useState(1); // Current page number\n\n  const itemsPerPage = 6; // Number of items per page\n\n  useEffect(() => {\n    dispatch(fetchProducts());\n    dispatch(fetchCategories());\n    dispatch(fetchProductsByCategory(1, 'all'));\n    dispatch(fetchProductsByCategory(2, 'all')); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); // Calculate the start and end indexes for the displayed products\n\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const displayedProducts = ((_productsByCategory$ = productsByCategory[0]) === null || _productsByCategory$ === void 0 ? void 0 : _productsByCategory$.slice(startIndex, endIndex)) || [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-page\",\n    children: [/*#__PURE__*/_jsxDEV(Slider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Category, {\n      categories: categories,\n      status: categoryStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductList, {\n      products: products,\n      status: productStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: Array.isArray(productsByCategory[0]) && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Category 1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SingleCategory, {\n          products: displayedProducts,\n          status: catProductAllStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n          currentPage: currentPage,\n          totalPages: Math.ceil((productsByCategory[0].length || 1) / itemsPerPage),\n          onPageChange: setCurrentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: Array.isArray(productsByCategory[1]) && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Category 2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SingleCategory, {\n          products: productsByCategory[1],\n          status: catProductAllStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(HomePage, \"EWelA99L516KudtkKaKuiKmbb48=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useState","Slider","Category","ProductList","SingleCategory","Pagination","useSelector","useDispatch","fetchProducts","fetchCategories","fetchProductsByCategory","HomePage","dispatch","data","categories","status","categoryStatus","state","category","products","productStatus","product","catProductAll","productsByCategory","catProductAllStatus","currentPage","setCurrentPage","itemsPerPage","startIndex","endIndex","displayedProducts","slice","Array","isArray","Math","ceil","length"],"sources":["D:/0020-UOKcs/Year 1/Semester 2/CSCI 12063 - Web Programming/pinsara/Ecommerce-react-Webapp/src/pages/HomePage/HomePage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Slider from '../../components/Slider/Slider';\r\nimport Category from '../../components/Category/Category';\r\nimport ProductList from '../../components/ProductList/ProductList';\r\nimport SingleCategory from '../../components/SingleCategory/SingleCategory';\r\nimport Pagination from '../../components/Pagination/Pagination'; // Make sure to import the Pagination component\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { fetchProducts } from '../../store/productSlice';\r\nimport { fetchCategories, fetchProductsByCategory } from '../../store/categorySlice';\r\nimport \"./HomePage.scss\";\r\n\r\nconst HomePage = () => {\r\n  const dispatch = useDispatch();\r\n  const { data: categories, status: categoryStatus } = useSelector((state) => state.category);\r\n  const { data: products, status: productStatus } = useSelector((state) => state.product);\r\n  const { catProductAll: productsByCategory, catProductAllStatus } = useSelector((state) => state.category);\r\n  \r\n  const [currentPage, setCurrentPage] = useState(1); // Current page number\r\n  const itemsPerPage = 6; // Number of items per page\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchProducts());\r\n    dispatch(fetchCategories());\r\n    dispatch(fetchProductsByCategory(1, 'all'));\r\n    dispatch(fetchProductsByCategory(2, 'all'));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Calculate the start and end indexes for the displayed products\r\n  const startIndex = (currentPage - 1) * itemsPerPage;\r\n  const endIndex = startIndex + itemsPerPage;\r\n  const displayedProducts = productsByCategory[0]?.slice(startIndex, endIndex) || [];\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      <Slider />\r\n      <Category categories={categories} status={categoryStatus} />\r\n      <ProductList products={products} status={productStatus} />\r\n\r\n      {/* Display the first category with pagination */}\r\n      <section>\r\n        {Array.isArray(productsByCategory[0]) && (\r\n          <div>\r\n            <h2>Category 1</h2>\r\n            <SingleCategory products={displayedProducts} status={catProductAllStatus} />\r\n            <Pagination\r\n              currentPage={currentPage}\r\n              totalPages={Math.ceil((productsByCategory[0].length || 1) / itemsPerPage)}\r\n              onPageChange={setCurrentPage}\r\n            />\r\n          </div>\r\n        )}\r\n      </section>\r\n\r\n      {/* Display the second category */}\r\n      <section>\r\n        {Array.isArray(productsByCategory[1]) && (\r\n          <div>\r\n            <h2>Category 2</h2>\r\n            <SingleCategory products={productsByCategory[1]} status={catProductAllStatus} />\r\n          </div>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}